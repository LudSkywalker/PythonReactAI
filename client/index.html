<!DOCTYPE html>
<html lang="en">
	<head>
		<meta charset="UTF-8" />
		<meta http-equiv="X-UA-Compatible" content="IE=edge" />
		<meta name="viewport" content="width=device-width, initial-scale=1.0" />
		<title>Document</title>
		<script src="https://cdn.plot.ly/plotly-2.2.0.min.js"></script>
	</head>
	<body>
		<div id="plot"></div>
		<script>
			const plot = (xy) => {
				data = [
					{
						x: Array.from(xy, (xy) => xy.x),
						y: Array.from(xy, (xy) => xy.y),
						type: "pointcloud",
					},
				];
				layout = {};
				Plotly.newPlot("plot", data, layout);
			};
			const fetchData = async () => {
				const response = await fetch("data.json");
				const datas = await response.json();
				const data = datas[0];
				return { XY: data.X, Z: data.Y };
			};
			(async () => {
				let { XY, Z } = await fetchData();
				let blueDataset = [];
				let redDataset = [];
				for (let i = 0; i < Z.length; i++) {
					if (Z[i][0]) {
						redDataset.push({
							x: XY[i][0],
							y: XY[i][1],
						});
					} else {
						blueDataset.push({
							x: XY[i][0],
							y: XY[i][1],
						});
					}
				}
				plot(blueDataset)
			})();
		</script>
	</body>
</html>
